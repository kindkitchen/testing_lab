var f=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var l=(n,i)=>{for(var o in i)f(n,o,{get:i[o],enumerable:!0})},h=(n,i,o,d)=>{if(i&&typeof i=="object"||typeof i=="function")for(let u of T(i))!x.call(n,u)&&u!==o&&f(n,u,{get:()=>i[u],enumerable:!(d=m(i,u))||d.enumerable});return n};var y=n=>h(f({},"__esModule",{value:!0}),n);var w={};l(w,{make_fixture:()=>c});module.exports=y(w);var c={start_builder_chain:{for_data_type:(...n)=>({with_possible_tags:((...i)=>({data_can_be_transformed_into_such_views:o=>({build:d=>{let u=Date.now(),t=Object.entries(d).reduce((e,[_,{fixture:s,tags:r}])=>{let a=++u;e.id_fixture.set(a,s),e.name_tag_fixture.set(_,new Map(r.map(g=>[g,a]))),e.name_fixture.set(_,a);for(let g of r)(e.tag_name_fixture.get(g)||e.tag_name_fixture.set(g,new Map).get(g)).set(_,a);return e},{id_fixture:new Map,name_fixture:new Map,name_tag_fixture:new Map,tag_name_fixture:new Map});return{one_by_name:e=>({add_to_more_tags:(..._)=>_.forEach(s=>{let r=t.name_fixture.get(e);(t.name_tag_fixture.get(e)||t.name_tag_fixture.set(e,new Map).get(e)).set(s,r),(t.tag_name_fixture.get(s)||t.tag_name_fixture.set(s,new Map).get(s)).set(e,r)}),remove_from_tags:(..._)=>_.forEach(s=>{t.name_tag_fixture.get(e).delete(s),t.tag_name_fixture.get(s).delete(e)}),update_data_source:_=>{let s=t.name_fixture.get(e),r=t.id_fixture.get(s),a=_(r);t.id_fixture.set(s,a)},as:Object.entries(o).reduce((_,[s,r])=>(_[s]=(...a)=>()=>{let g=t.name_fixture.get(e);return r(t.id_fixture.get(g),...a)},_),{})}),many_with_tag:e=>({as:Object.entries(o).reduce((_,[s,r])=>(_[s]=()=>(...a)=>(t.tag_name_fixture.get(e)||[]).values().toArray().map(p=>r(t.id_fixture.get(p),...a)),_),{}),foreach_update_data_source:_=>{(t.tag_name_fixture.get(e)||new Map).entries().toArray().forEach(([s,r])=>{let a=t.id_fixture.get(r);t.id_fixture.set(r,_(a))})}})}}})}))})}};0&&(module.exports={make_fixture});
//# sourceMappingURL=make_fixture.js.map